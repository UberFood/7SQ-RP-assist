(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var $ = window.jQuery;
var KD_BUTTON_SELECTOR = '[data-name="KD_button"]';
var MELEE_RESIST_BUTTON_SELECTOR = '[data-name="melee_resist_button"]';
var MOVE_BUTTON_SELECTOR = '[data-name="move_button"]';
var DODGE_BUTTON_SELECTOR = '[data-name="dodge_button"]';

var KD_LVL_SELECTOR = '[data-name="KD_lvl"]';
var MELEE_RESIST_LVL_SELECTOR = '[data-name="melee_resist_lvl"]';
var MOVE_LVL_SELECTOR = '[data-name="move_lvl"]';
var DODGE_LVL_SELECTOR = '[data-name="dodge_lvl"]';

var KD_PRICE_SELECTOR = '[data-name="KD_price"]';
var MELEE_RESIST_PRICE_SELECTOR = '[data-name="melee_resist_price"]';
var MOVE_PRICE_SELECTOR = '[data-name="move_price"]';
var DODGE_PRICE_SELECTOR = '[data-name="dodge_price"]';

var TOTAL_PRICE_SELECTOR = '[data-name="total_price"]';
var MOVE_CHANGE_SELECTOR = '[data-name="move_change_display"]';

var module_scale = 1.1;
var specialization_scale = 1.7;

var initial_KD = 10;
var initial_melee_resist = 0;
var initial_move = 0;
var initial_dodge = 0;

var initial_KD_price = 100;
var initial_melee_resist_price = 100;
var initial_move_price = 100;
var initial_dodge_price = 100;

var step_KD = 1;
var step_melee_resist = 5;
var step_move = 5;
var step_dodge = 1;

var current_KD = initial_KD;
var current_melee_resist = initial_melee_resist;
var current_move = initial_move;
var current_dodge = initial_dodge;

var current_KD_price = initial_KD_price;
var current_melee_resist_price = initial_melee_resist_price;
var current_move_price = initial_move_price;
var current_dodge_price = initial_dodge_price;

var total_cost = 0;
var move_change = 0;

function round_and_convert_to_string(number) {
  return parseInt(number).toString();
}

function update_move_change(update) {
  move_change = move_change + update;
  move_change_display.html("Изменение перемещения: " + move_change.toString());
}

function update_total_cost(price) {
  total_cost = total_cost + price;
  total_price_entry.html("Общая стоимость: " + round_and_convert_to_string(total_cost));
}

function update_price_display() {
  KD_price.html("Цена апгрейда: " + round_and_convert_to_string(current_KD_price));
  melee_resist_price.html("Цена апгрейда: " + round_and_convert_to_string(current_melee_resist_price));
  move_price.html("Цена апгрейда: " + round_and_convert_to_string(current_move_price));
  dodge_price.html("Цена апгрейда: " + round_and_convert_to_string(current_dodge_price));
}

function apply_module_scale() {
  current_KD_price = current_KD_price * module_scale;
  current_melee_resist_price = current_melee_resist_price * module_scale;
  current_move_price = current_move_price * module_scale;
  current_dodge_price = current_dodge_price * module_scale;
}

function increase_KD() {
  current_KD = current_KD + step_KD;
  KD_lvl.html("КД: " + current_KD.toString());

  update_total_cost(current_KD_price);

  current_KD_price = current_KD_price * specialization_scale;
  apply_module_scale();

  update_price_display();

  if (current_KD % 3 == 1) {
    // third KD increase
    update_move_change(-1);
  }
}

function increase_melee_resist() {
  current_melee_resist = current_melee_resist + step_melee_resist;
  melee_resist_lvl.html("Милли резист: " + current_melee_resist.toString() + "%");

  update_total_cost(current_melee_resist_price);

  current_melee_resist_price = current_melee_resist_price * specialization_scale;
  apply_module_scale();

  update_price_display();
}

function increase_move() {
  current_move = current_move + step_move;
  move_lvl.html("Стрелковый резист: " + current_move.toString() + "%");

  update_total_cost(current_move_price);

  current_move_price = current_move_price * specialization_scale;
  apply_module_scale();

  update_price_display();
}

function increase_dodge() {
  current_dodge = current_dodge + step_dodge;
  dodge_lvl.html("Уворот: " + current_dodge.toString());

  update_total_cost(current_dodge_price);

  current_dodge_price = current_dodge_price * specialization_scale;
  apply_module_scale();

  update_price_display();

  if (current_dodge % 3 == 0) {
    // third move increase
    update_move_change(1);
  }
}

var KD_button = $(KD_BUTTON_SELECTOR);
KD_button.on('click', increase_KD);

var melee_resist_button = $(MELEE_RESIST_BUTTON_SELECTOR);
melee_resist_button.on('click', increase_melee_resist);

var move_button = $(MOVE_BUTTON_SELECTOR);
move_button.on('click', increase_move);

var dodge_button = $(DODGE_BUTTON_SELECTOR);
dodge_button.on('click', increase_dodge);

var KD_lvl = $(KD_LVL_SELECTOR);
KD_lvl.html("КД: " + current_KD.toString());
var melee_resist_lvl = $(MELEE_RESIST_LVL_SELECTOR);
melee_resist_lvl.html("Милли резист: " + current_melee_resist.toString() + "%");
var move_lvl = $(MOVE_LVL_SELECTOR);
move_lvl.html("Стрелковый резист: " + current_move.toString() + "%");
var dodge_lvl = $(DODGE_LVL_SELECTOR);
dodge_lvl.html("Уворот: " + current_dodge.toString());

var KD_price = $(KD_PRICE_SELECTOR);
KD_price.html("Цена апгрейда: " + current_KD_price.toString());
var melee_resist_price = $(MELEE_RESIST_PRICE_SELECTOR);
melee_resist_price.html("Цена апгрейда: " + current_melee_resist_price.toString());
var move_price = $(MOVE_PRICE_SELECTOR);
move_price.html("Цена апгрейда: " + current_move_price.toString());
var dodge_price = $(DODGE_PRICE_SELECTOR);
dodge_price.html("Цена апгрейда: " + current_dodge_price.toString());

var total_price_entry = $(TOTAL_PRICE_SELECTOR);
total_price_entry.html("Общая стоимость: " + total_cost.toString());

var move_change_display = $(MOVE_CHANGE_SELECTOR);
move_change_display.html("Изменение перемещения: " + move_change.toString());

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvc2NyaXB0cy9zcmMvYXJtb3JfY2FsY3VsYXRvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxJQUFJLE9BQU8sTUFBZjtBQUNBLElBQUkscUJBQXFCLHlCQUF6QjtBQUNBLElBQUksK0JBQStCLG1DQUFuQztBQUNBLElBQUksdUJBQXVCLDJCQUEzQjtBQUNBLElBQUksd0JBQXdCLDRCQUE1Qjs7QUFFQSxJQUFJLGtCQUFrQixzQkFBdEI7QUFDQSxJQUFJLDRCQUE0QixnQ0FBaEM7QUFDQSxJQUFJLG9CQUFvQix3QkFBeEI7QUFDQSxJQUFJLHFCQUFxQix5QkFBekI7O0FBRUEsSUFBSSxvQkFBb0Isd0JBQXhCO0FBQ0EsSUFBSSw4QkFBOEIsa0NBQWxDO0FBQ0EsSUFBSSxzQkFBc0IsMEJBQTFCO0FBQ0EsSUFBSSx1QkFBdUIsMkJBQTNCOztBQUVBLElBQUksdUJBQXVCLDJCQUEzQjtBQUNBLElBQUksdUJBQXVCLG1DQUEzQjs7QUFFQSxJQUFJLGVBQWUsR0FBbkI7QUFDQSxJQUFJLHVCQUF1QixHQUEzQjs7QUFFQSxJQUFJLGFBQWEsRUFBakI7QUFDQSxJQUFJLHVCQUF1QixDQUEzQjtBQUNBLElBQUksZUFBZSxDQUFuQjtBQUNBLElBQUksZ0JBQWdCLENBQXBCOztBQUVBLElBQUksbUJBQW1CLEdBQXZCO0FBQ0EsSUFBSSw2QkFBNkIsR0FBakM7QUFDQSxJQUFJLHFCQUFxQixHQUF6QjtBQUNBLElBQUksc0JBQXNCLEdBQTFCOztBQUVBLElBQUksVUFBVSxDQUFkO0FBQ0EsSUFBSSxvQkFBb0IsQ0FBeEI7QUFDQSxJQUFJLFlBQVksQ0FBaEI7QUFDQSxJQUFJLGFBQWEsQ0FBakI7O0FBRUEsSUFBSSxhQUFhLFVBQWpCO0FBQ0EsSUFBSSx1QkFBdUIsb0JBQTNCO0FBQ0EsSUFBSSxlQUFlLFlBQW5CO0FBQ0EsSUFBSSxnQkFBZ0IsYUFBcEI7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b3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsInZhciAkID0gd2luZG93LmpRdWVyeTtcclxudmFyIEtEX0JVVFRPTl9TRUxFQ1RPUiA9ICdbZGF0YS1uYW1lPVwiS0RfYnV0dG9uXCJdJztcclxudmFyIE1FTEVFX1JFU0lTVF9CVVRUT05fU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIm1lbGVlX3Jlc2lzdF9idXR0b25cIl0nO1xyXG52YXIgTU9WRV9CVVRUT05fU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIm1vdmVfYnV0dG9uXCJdJztcclxudmFyIERPREdFX0JVVFRPTl9TRUxFQ1RPUiA9ICdbZGF0YS1uYW1lPVwiZG9kZ2VfYnV0dG9uXCJdJztcclxuXHJcbnZhciBLRF9MVkxfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIktEX2x2bFwiXSc7XHJcbnZhciBNRUxFRV9SRVNJU1RfTFZMX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJtZWxlZV9yZXNpc3RfbHZsXCJdJztcclxudmFyIE1PVkVfTFZMX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJtb3ZlX2x2bFwiXSc7XHJcbnZhciBET0RHRV9MVkxfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cImRvZGdlX2x2bFwiXSc7XHJcblxyXG52YXIgS0RfUFJJQ0VfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIktEX3ByaWNlXCJdJztcclxudmFyIE1FTEVFX1JFU0lTVF9QUklDRV9TRUxFQ1RPUiA9ICdbZGF0YS1uYW1lPVwibWVsZWVfcmVzaXN0X3ByaWNlXCJdJztcclxudmFyIE1PVkVfUFJJQ0VfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIm1vdmVfcHJpY2VcIl0nO1xyXG52YXIgRE9ER0VfUFJJQ0VfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cImRvZGdlX3ByaWNlXCJdJztcclxuXHJcbnZhciBUT1RBTF9QUklDRV9TRUxFQ1RPUiA9ICdbZGF0YS1uYW1lPVwidG90YWxfcHJpY2VcIl0nO1xyXG52YXIgTU9WRV9DSEFOR0VfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIm1vdmVfY2hhbmdlX2Rpc3BsYXlcIl0nO1xyXG5cclxudmFyIG1vZHVsZV9zY2FsZSA9IDEuMTtcclxudmFyIHNwZWNpYWxpemF0aW9uX3NjYWxlID0gMS43O1xyXG5cclxudmFyIGluaXRpYWxfS0QgPSAxMDtcclxudmFyIGluaXRpYWxfbWVsZWVfcmVzaXN0ID0gMDtcclxudmFyIGluaXRpYWxfbW92ZSA9IDA7XHJcbnZhciBpbml0aWFsX2RvZGdlID0gMDtcclxuXHJcbnZhciBpbml0aWFsX0tEX3ByaWNlID0gMTAwO1xyXG52YXIgaW5pdGlhbF9tZWxlZV9yZXNpc3RfcHJpY2UgPSAxMDA7XHJcbnZhciBpbml0aWFsX21vdmVfcHJpY2UgPSAxMDA7XHJcbnZhciBpbml0aWFsX2RvZGdlX3ByaWNlID0gMTAwO1xyXG5cclxudmFyIHN0ZXBfS0QgPSAxO1xyXG52YXIgc3RlcF9tZWxlZV9yZXNpc3QgPSA1O1xyXG52YXIgc3RlcF9tb3ZlID0gNTtcclxudmFyIHN0ZXBfZG9kZ2UgPSAxO1xyXG5cclxudmFyIGN1cnJlbnRfS0QgPSBpbml0aWFsX0tEO1xyXG52YXIgY3VycmVudF9tZWxlZV9yZXNpc3QgPSBpbml0aWFsX21lbGVlX3Jlc2lzdDtcclxudmFyIGN1cnJlbnRfbW92ZSA9IGluaXRpYWxfbW92ZTtcclxudmFyIGN1cnJlbnRfZG9kZ2UgPSBpbml0aWFsX2RvZGdlO1xyXG5cclxudmFyIGN1cnJlbnRfS0RfcHJpY2UgPSBpbml0aWFsX0tEX3ByaWNlO1xyXG52YXIgY3VycmVudF9tZWxlZV9yZXNpc3RfcHJpY2UgPSBpbml0aWFsX21lbGVlX3Jlc2lzdF9wcmljZTtcclxudmFyIGN1cnJlbnRfbW92ZV9wcmljZSA9IGluaXRpYWxfbW92ZV9wcmljZTtcclxudmFyIGN1cnJlbnRfZG9kZ2VfcHJpY2UgPSBpbml0aWFsX2RvZGdlX3ByaWNlO1xyXG5cclxudmFyIHRvdGFsX2Nvc3QgPSAwO1xyXG52YXIgbW92ZV9jaGFuZ2UgPSAwO1xyXG5cclxuZnVuY3Rpb24gcm91bmRfYW5kX2NvbnZlcnRfdG9fc3RyaW5nKG51bWJlcikge1xyXG4gIHJldHVybiAgcGFyc2VJbnQobnVtYmVyKS50b1N0cmluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVfbW92ZV9jaGFuZ2UodXBkYXRlKSB7XHJcbiAgbW92ZV9jaGFuZ2UgPSBtb3ZlX2NoYW5nZSArIHVwZGF0ZTtcclxuICBtb3ZlX2NoYW5nZV9kaXNwbGF5Lmh0bWwoXCLQmNC30LzQtdC90LXQvdC40LUg0L/QtdGA0LXQvNC10YnQtdC90LjRjzogXCIgKyBtb3ZlX2NoYW5nZS50b1N0cmluZygpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlX3RvdGFsX2Nvc3QocHJpY2UpIHtcclxuICB0b3RhbF9jb3N0ID0gdG90YWxfY29zdCArIHByaWNlO1xyXG4gIHRvdGFsX3ByaWNlX2VudHJ5Lmh0bWwoXCLQntCx0YnQsNGPINGB0YLQvtC40LzQvtGB0YLRjDogXCIgKyByb3VuZF9hbmRfY29udmVydF90b19zdHJpbmcodG90YWxfY29zdCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVfcHJpY2VfZGlzcGxheSgpIHtcclxuICBLRF9wcmljZS5odG1sKFwi0KbQtdC90LAg0LDQv9Cz0YDQtdC50LTQsDogXCIgKyByb3VuZF9hbmRfY29udmVydF90b19zdHJpbmcoY3VycmVudF9LRF9wcmljZSkpXHJcbiAgbWVsZWVfcmVzaXN0X3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIHJvdW5kX2FuZF9jb252ZXJ0X3RvX3N0cmluZyhjdXJyZW50X21lbGVlX3Jlc2lzdF9wcmljZSkpXHJcbiAgbW92ZV9wcmljZS5odG1sKFwi0KbQtdC90LAg0LDQv9Cz0YDQtdC50LTQsDogXCIgKyByb3VuZF9hbmRfY29udmVydF90b19zdHJpbmcoY3VycmVudF9tb3ZlX3ByaWNlKSlcclxuICBkb2RnZV9wcmljZS5odG1sKFwi0KbQtdC90LAg0LDQv9Cz0YDQtdC50LTQsDogXCIgKyByb3VuZF9hbmRfY29udmVydF90b19zdHJpbmcoY3VycmVudF9kb2RnZV9wcmljZSkpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5X21vZHVsZV9zY2FsZSgpIHtcclxuICBjdXJyZW50X0tEX3ByaWNlID0gY3VycmVudF9LRF9wcmljZSptb2R1bGVfc2NhbGU7XHJcbiAgY3VycmVudF9tZWxlZV9yZXNpc3RfcHJpY2UgPSBjdXJyZW50X21lbGVlX3Jlc2lzdF9wcmljZSptb2R1bGVfc2NhbGU7XHJcbiAgY3VycmVudF9tb3ZlX3ByaWNlID0gY3VycmVudF9tb3ZlX3ByaWNlKm1vZHVsZV9zY2FsZTtcclxuICBjdXJyZW50X2RvZGdlX3ByaWNlID0gY3VycmVudF9kb2RnZV9wcmljZSptb2R1bGVfc2NhbGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY3JlYXNlX0tEKCkge1xyXG4gIGN1cnJlbnRfS0QgPSBjdXJyZW50X0tEICsgc3RlcF9LRDtcclxuICBLRF9sdmwuaHRtbChcItCa0JQ6IFwiICsgY3VycmVudF9LRC50b1N0cmluZygpKVxyXG5cclxuICB1cGRhdGVfdG90YWxfY29zdChjdXJyZW50X0tEX3ByaWNlKVxyXG5cclxuICBjdXJyZW50X0tEX3ByaWNlID0gY3VycmVudF9LRF9wcmljZSpzcGVjaWFsaXphdGlvbl9zY2FsZTtcclxuICBhcHBseV9tb2R1bGVfc2NhbGUoKTtcclxuXHJcbiAgdXBkYXRlX3ByaWNlX2Rpc3BsYXkoKTtcclxuXHJcbiAgaWYgKGN1cnJlbnRfS0QgJSAzID09IDEpIHsvLyB0aGlyZCBLRCBpbmNyZWFzZVxyXG4gICAgdXBkYXRlX21vdmVfY2hhbmdlKC0xKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY3JlYXNlX21lbGVlX3Jlc2lzdCgpIHtcclxuICBjdXJyZW50X21lbGVlX3Jlc2lzdCA9IGN1cnJlbnRfbWVsZWVfcmVzaXN0ICsgc3RlcF9tZWxlZV9yZXNpc3Q7XHJcbiAgbWVsZWVfcmVzaXN0X2x2bC5odG1sKFwi0JzQuNC70LvQuCDRgNC10LfQuNGB0YI6IFwiICsgY3VycmVudF9tZWxlZV9yZXNpc3QudG9TdHJpbmcoKSArIFwiJVwiKVxyXG5cclxuICB1cGRhdGVfdG90YWxfY29zdChjdXJyZW50X21lbGVlX3Jlc2lzdF9wcmljZSlcclxuXHJcbiAgY3VycmVudF9tZWxlZV9yZXNpc3RfcHJpY2UgPSBjdXJyZW50X21lbGVlX3Jlc2lzdF9wcmljZSpzcGVjaWFsaXphdGlvbl9zY2FsZTtcclxuICBhcHBseV9tb2R1bGVfc2NhbGUoKTtcclxuXHJcbiAgdXBkYXRlX3ByaWNlX2Rpc3BsYXkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VfbW92ZSgpIHtcclxuICBjdXJyZW50X21vdmUgPSBjdXJyZW50X21vdmUgKyBzdGVwX21vdmU7XHJcbiAgbW92ZV9sdmwuaHRtbChcItCh0YLRgNC10LvQutC+0LLRi9C5INGA0LXQt9C40YHRgjogXCIgKyBjdXJyZW50X21vdmUudG9TdHJpbmcoKSArIFwiJVwiKVxyXG5cclxuICB1cGRhdGVfdG90YWxfY29zdChjdXJyZW50X21vdmVfcHJpY2UpXHJcblxyXG4gIGN1cnJlbnRfbW92ZV9wcmljZSA9IGN1cnJlbnRfbW92ZV9wcmljZSpzcGVjaWFsaXphdGlvbl9zY2FsZTtcclxuICBhcHBseV9tb2R1bGVfc2NhbGUoKTtcclxuXHJcbiAgdXBkYXRlX3ByaWNlX2Rpc3BsYXkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VfZG9kZ2UoKSB7XHJcbiAgY3VycmVudF9kb2RnZSA9IGN1cnJlbnRfZG9kZ2UgKyBzdGVwX2RvZGdlO1xyXG4gIGRvZGdlX2x2bC5odG1sKFwi0KPQstC+0YDQvtGCOiBcIiArIGN1cnJlbnRfZG9kZ2UudG9TdHJpbmcoKSlcclxuXHJcbiAgdXBkYXRlX3RvdGFsX2Nvc3QoY3VycmVudF9kb2RnZV9wcmljZSlcclxuXHJcbiAgY3VycmVudF9kb2RnZV9wcmljZSA9IGN1cnJlbnRfZG9kZ2VfcHJpY2Uqc3BlY2lhbGl6YXRpb25fc2NhbGU7XHJcbiAgYXBwbHlfbW9kdWxlX3NjYWxlKCk7XHJcblxyXG4gIHVwZGF0ZV9wcmljZV9kaXNwbGF5KCk7XHJcblxyXG4gIGlmIChjdXJyZW50X2RvZGdlICUgMyA9PSAwKSB7Ly8gdGhpcmQgbW92ZSBpbmNyZWFzZVxyXG4gICAgdXBkYXRlX21vdmVfY2hhbmdlKDEpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbnZhciBLRF9idXR0b24gPSAkKEtEX0JVVFRPTl9TRUxFQ1RPUik7XHJcbktEX2J1dHRvbi5vbignY2xpY2snLCBpbmNyZWFzZV9LRCk7XHJcblxyXG52YXIgbWVsZWVfcmVzaXN0X2J1dHRvbiA9ICQoTUVMRUVfUkVTSVNUX0JVVFRPTl9TRUxFQ1RPUik7XHJcbm1lbGVlX3Jlc2lzdF9idXR0b24ub24oJ2NsaWNrJywgaW5jcmVhc2VfbWVsZWVfcmVzaXN0KTtcclxuXHJcbnZhciBtb3ZlX2J1dHRvbiA9ICQoTU9WRV9CVVRUT05fU0VMRUNUT1IpO1xyXG5tb3ZlX2J1dHRvbi5vbignY2xpY2snLCBpbmNyZWFzZV9tb3ZlKTtcclxuXHJcbnZhciBkb2RnZV9idXR0b24gPSAkKERPREdFX0JVVFRPTl9TRUxFQ1RPUik7XHJcbmRvZGdlX2J1dHRvbi5vbignY2xpY2snLCBpbmNyZWFzZV9kb2RnZSk7XHJcblxyXG52YXIgS0RfbHZsID0gJChLRF9MVkxfU0VMRUNUT1IpO1xyXG5LRF9sdmwuaHRtbChcItCa0JQ6IFwiICsgY3VycmVudF9LRC50b1N0cmluZygpKVxyXG52YXIgbWVsZWVfcmVzaXN0X2x2bCA9ICQoTUVMRUVfUkVTSVNUX0xWTF9TRUxFQ1RPUik7XHJcbm1lbGVlX3Jlc2lzdF9sdmwuaHRtbChcItCc0LjQu9C70Lgg0YDQtdC30LjRgdGCOiBcIiArIGN1cnJlbnRfbWVsZWVfcmVzaXN0LnRvU3RyaW5nKCkgKyBcIiVcIilcclxudmFyIG1vdmVfbHZsID0gJChNT1ZFX0xWTF9TRUxFQ1RPUik7XHJcbm1vdmVfbHZsLmh0bWwoXCLQodGC0YDQtdC70LrQvtCy0YvQuSDRgNC10LfQuNGB0YI6IFwiICsgY3VycmVudF9tb3ZlLnRvU3RyaW5nKCkgKyBcIiVcIilcclxudmFyIGRvZGdlX2x2bCA9ICQoRE9ER0VfTFZMX1NFTEVDVE9SKTtcclxuZG9kZ2VfbHZsLmh0bWwoXCLQo9Cy0L7RgNC+0YI6IFwiICsgY3VycmVudF9kb2RnZS50b1N0cmluZygpKVxyXG5cclxudmFyIEtEX3ByaWNlID0gJChLRF9QUklDRV9TRUxFQ1RPUik7XHJcbktEX3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfS0RfcHJpY2UudG9TdHJpbmcoKSlcclxudmFyIG1lbGVlX3Jlc2lzdF9wcmljZSA9ICQoTUVMRUVfUkVTSVNUX1BSSUNFX1NFTEVDVE9SKTtcclxubWVsZWVfcmVzaXN0X3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfbWVsZWVfcmVzaXN0X3ByaWNlLnRvU3RyaW5nKCkpXHJcbnZhciBtb3ZlX3ByaWNlID0gJChNT1ZFX1BSSUNFX1NFTEVDVE9SKTtcclxubW92ZV9wcmljZS5odG1sKFwi0KbQtdC90LAg0LDQv9Cz0YDQtdC50LTQsDogXCIgKyBjdXJyZW50X21vdmVfcHJpY2UudG9TdHJpbmcoKSlcclxudmFyIGRvZGdlX3ByaWNlID0gJChET0RHRV9QUklDRV9TRUxFQ1RPUik7XHJcbmRvZGdlX3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfZG9kZ2VfcHJpY2UudG9TdHJpbmcoKSlcclxuXHJcbnZhciB0b3RhbF9wcmljZV9lbnRyeSA9ICQoVE9UQUxfUFJJQ0VfU0VMRUNUT1IpO1xyXG50b3RhbF9wcmljZV9lbnRyeS5odG1sKFwi0J7QsdGJ0LDRjyDRgdGC0L7QuNC80L7RgdGC0Yw6IFwiICsgdG90YWxfY29zdC50b1N0cmluZygpKTtcclxuXHJcbnZhciBtb3ZlX2NoYW5nZV9kaXNwbGF5ID0gJChNT1ZFX0NIQU5HRV9TRUxFQ1RPUik7XHJcbm1vdmVfY2hhbmdlX2Rpc3BsYXkuaHRtbChcItCY0LfQvNC10L3QtdC90LjQtSDQv9C10YDQtdC80LXRidC10L3QuNGPOiBcIiArIG1vdmVfY2hhbmdlLnRvU3RyaW5nKCkpO1xyXG4iXX0=
