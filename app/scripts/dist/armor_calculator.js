(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

var $ = window.jQuery;
var KD_BUTTON_SELECTOR = '[data-name="KD_button"]';
var MELEE_RESIST_BUTTON_SELECTOR = '[data-name="melee_resist_button"]';
var MOVE_BUTTON_SELECTOR = '[data-name="move_button"]';
var DODGE_BUTTON_SELECTOR = '[data-name="dodge_button"]';

var KD_LVL_SELECTOR = '[data-name="KD_lvl"]';
var MELEE_RESIST_LVL_SELECTOR = '[data-name="melee_resist_lvl"]';
var MOVE_LVL_SELECTOR = '[data-name="move_lvl"]';
var DODGE_LVL_SELECTOR = '[data-name="dodge_lvl"]';

var KD_PRICE_SELECTOR = '[data-name="KD_price"]';
var MELEE_RESIST_PRICE_SELECTOR = '[data-name="melee_resist_price"]';
var MOVE_PRICE_SELECTOR = '[data-name="move_price"]';
var DODGE_PRICE_SELECTOR = '[data-name="dodge_price"]';

var TOTAL_PRICE_SELECTOR = '[data-name="total_price"]';
var MOVE_CHANGE_SELECTOR = '[data-name="move_change_display"]';

var module_scale = 1.2;
var specialization_scale = 2;

var initial_KD = 10;
var initial_melee_resist = 0;
var initial_move = 0;
var initial_dodge = 0;

var initial_KD_price = 50;
var initial_melee_resist_price = 50;
var initial_move_price = 50;
var initial_dodge_price = 50;

var step_KD = 1;
var step_melee_resist = 5;
var step_move = 5;
var step_dodge = 1;

var current_KD = initial_KD;
var current_melee_resist = initial_melee_resist;
var current_move = initial_move;
var current_dodge = initial_dodge;

var current_KD_price = initial_KD_price;
var current_melee_resist_price = initial_melee_resist_price;
var current_move_price = initial_move_price;
var current_dodge_price = initial_dodge_price;

var total_cost = 0;
var move_change = 0;

function update_move_change(update) {
  move_change = move_change + update;
  move_change_display.html("Изменение перемещения: " + move_change.toString());
}

function update_total_cost(price) {
  total_cost = total_cost + price;
  total_price_entry.html("Общая стоимость: " + total_cost.toString());
}

function update_price_display() {
  KD_price.html("Цена апгрейда: " + current_KD_price.toString());
  melee_resist_price.html("Цена апгрейда: " + current_melee_resist_price.toString());
  move_price.html("Цена апгрейда: " + current_move_price.toString());
  dodge_price.html("Цена апгрейда: " + current_dodge_price.toString());
}

function apply_module_scale() {
  current_KD_price = parseInt(current_KD_price * module_scale);
  current_melee_resist_price = parseInt(current_melee_resist_price * module_scale);
  current_move_price = parseInt(current_move_price * module_scale);
  current_dodge_price = parseInt(current_dodge_price * module_scale);
}

function increase_KD() {
  current_KD = current_KD + step_KD;
  KD_lvl.html("КД: " + current_KD.toString());

  update_total_cost(current_KD_price);

  current_KD_price = current_KD_price * specialization_scale;
  apply_module_scale();

  update_price_display();

  if (current_KD % 3 == 1) {
    // third KD increase
    update_move_change(-1);
  }
}

function increase_melee_resist() {
  current_melee_resist = current_melee_resist + step_melee_resist;
  melee_resist_lvl.html("Милли резист: " + current_melee_resist.toString() + "%");

  update_total_cost(current_melee_resist_price);

  current_melee_resist_price = current_melee_resist_price * specialization_scale;
  apply_module_scale();

  update_price_display();
}

function increase_move() {
  current_move = current_move + step_move;
  move_lvl.html("Стрелковый резист: " + current_move.toString() + "%");

  update_total_cost(current_move_price);

  current_move_price = current_move_price * specialization_scale;
  apply_module_scale();

  update_price_display();
}

function increase_dodge() {
  current_dodge = current_dodge + step_dodge;
  dodge_lvl.html("Уворот: " + current_dodge.toString());

  update_total_cost(current_dodge_price);

  current_dodge_price = current_dodge_price * specialization_scale;
  apply_module_scale();

  update_price_display();

  if (current_dodge % 3 == 0) {
    // third move increase
    update_move_change(1);
  }
}

var KD_button = $(KD_BUTTON_SELECTOR);
KD_button.on('click', increase_KD);

var melee_resist_button = $(MELEE_RESIST_BUTTON_SELECTOR);
melee_resist_button.on('click', increase_melee_resist);

var move_button = $(MOVE_BUTTON_SELECTOR);
move_button.on('click', increase_move);

var dodge_button = $(DODGE_BUTTON_SELECTOR);
dodge_button.on('click', increase_dodge);

var KD_lvl = $(KD_LVL_SELECTOR);
KD_lvl.html("КД: " + current_KD.toString());
var melee_resist_lvl = $(MELEE_RESIST_LVL_SELECTOR);
melee_resist_lvl.html("Милли резист: " + current_melee_resist.toString() + "%");
var move_lvl = $(MOVE_LVL_SELECTOR);
move_lvl.html("Стрелковый резист: " + current_move.toString() + "%");
var dodge_lvl = $(DODGE_LVL_SELECTOR);
dodge_lvl.html("Уворот: " + current_dodge.toString());

var KD_price = $(KD_PRICE_SELECTOR);
KD_price.html("Цена апгрейда: " + current_KD_price.toString());
var melee_resist_price = $(MELEE_RESIST_PRICE_SELECTOR);
melee_resist_price.html("Цена апгрейда: " + current_melee_resist_price.toString());
var move_price = $(MOVE_PRICE_SELECTOR);
move_price.html("Цена апгрейда: " + current_move_price.toString());
var dodge_price = $(DODGE_PRICE_SELECTOR);
dodge_price.html("Цена апгрейда: " + current_dodge_price.toString());

var total_price_entry = $(TOTAL_PRICE_SELECTOR);
total_price_entry.html("Общая стоимость: " + total_cost.toString());

var move_change_display = $(MOVE_CHANGE_SELECTOR);
move_change_display.html("Изменение перемещения: " + move_change.toString());

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvc2NyaXB0cy9zcmMvYXJtb3JfY2FsY3VsYXRvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxJQUFJLE9BQU8sTUFBZjtBQUNBLElBQUkscUJBQXFCLHlCQUF6QjtBQUNBLElBQUksK0JBQStCLG1DQUFuQztBQUNBLElBQUksdUJBQXVCLDJCQUEzQjtBQUNBLElBQUksd0JBQXdCLDRCQUE1Qjs7QUFFQSxJQUFJLGtCQUFrQixzQkFBdEI7QUFDQSxJQUFJLDRCQUE0QixnQ0FBaEM7QUFDQSxJQUFJLG9CQUFvQix3QkFBeEI7QUFDQSxJQUFJLHFCQUFxQix5QkFBekI7O0FBRUEsSUFBSSxvQkFBb0Isd0JBQXhCO0FBQ0EsSUFBSSw4QkFBOEIsa0NBQWxDO0FBQ0EsSUFBSSxzQkFBc0IsMEJBQTFCO0FBQ0EsSUFBSSx1QkFBdUIsMkJBQTNCOztBQUVBLElBQUksdUJBQXVCLDJCQUEzQjtBQUNBLElBQUksdUJBQXVCLG1DQUEzQjs7QUFFQSxJQUFJLGVBQWUsR0FBbkI7QUFDQSxJQUFJLHVCQUF1QixDQUEzQjs7QUFFQSxJQUFJLGFBQWEsRUFBakI7QUFDQSxJQUFJLHVCQUF1QixDQUEzQjtBQUNBLElBQUksZUFBZSxDQUFuQjtBQUNBLElBQUksZ0JBQWdCLENBQXBCOztBQUVBLElBQUksbUJBQW1CLEVBQXZCO0FBQ0EsSUFBSSw2QkFBNkIsRUFBakM7QUFDQSxJQUFJLHFCQUFxQixFQUF6QjtBQUNBLElBQUksc0JBQXNCLEVBQTFCOztBQUVBLElBQUksVUFBVSxDQUFkO0FBQ0EsSUFBSSxvQkFBb0IsQ0FBeEI7QUFDQSxJQUFJLFlBQVksQ0FBaEI7QUFDQSxJQUFJLGFBQWEsQ0FBakI7O0FBRUEsSUFBSSxhQUFhLFVBQWpCO0FBQ0EsSUFBSSx1QkFBdUIsb0JBQTNCO0FBQ0EsSUFBSSxlQUFlLFlBQW5CO0FBQ0EsSUFBSSxnQkFBZ0IsYUFBcEI7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bigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJ2YXIgJCA9IHdpbmRvdy5qUXVlcnk7XHJcbnZhciBLRF9CVVRUT05fU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIktEX2J1dHRvblwiXSc7XHJcbnZhciBNRUxFRV9SRVNJU1RfQlVUVE9OX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJtZWxlZV9yZXNpc3RfYnV0dG9uXCJdJztcclxudmFyIE1PVkVfQlVUVE9OX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJtb3ZlX2J1dHRvblwiXSc7XHJcbnZhciBET0RHRV9CVVRUT05fU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cImRvZGdlX2J1dHRvblwiXSc7XHJcblxyXG52YXIgS0RfTFZMX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJLRF9sdmxcIl0nO1xyXG52YXIgTUVMRUVfUkVTSVNUX0xWTF9TRUxFQ1RPUiA9ICdbZGF0YS1uYW1lPVwibWVsZWVfcmVzaXN0X2x2bFwiXSc7XHJcbnZhciBNT1ZFX0xWTF9TRUxFQ1RPUiA9ICdbZGF0YS1uYW1lPVwibW92ZV9sdmxcIl0nO1xyXG52YXIgRE9ER0VfTFZMX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJkb2RnZV9sdmxcIl0nO1xyXG5cclxudmFyIEtEX1BSSUNFX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJLRF9wcmljZVwiXSc7XHJcbnZhciBNRUxFRV9SRVNJU1RfUFJJQ0VfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cIm1lbGVlX3Jlc2lzdF9wcmljZVwiXSc7XHJcbnZhciBNT1ZFX1BSSUNFX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJtb3ZlX3ByaWNlXCJdJztcclxudmFyIERPREdFX1BSSUNFX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJkb2RnZV9wcmljZVwiXSc7XHJcblxyXG52YXIgVE9UQUxfUFJJQ0VfU0VMRUNUT1IgPSAnW2RhdGEtbmFtZT1cInRvdGFsX3ByaWNlXCJdJztcclxudmFyIE1PVkVfQ0hBTkdFX1NFTEVDVE9SID0gJ1tkYXRhLW5hbWU9XCJtb3ZlX2NoYW5nZV9kaXNwbGF5XCJdJztcclxuXHJcbnZhciBtb2R1bGVfc2NhbGUgPSAxLjI7XHJcbnZhciBzcGVjaWFsaXphdGlvbl9zY2FsZSA9IDI7XHJcblxyXG52YXIgaW5pdGlhbF9LRCA9IDEwO1xyXG52YXIgaW5pdGlhbF9tZWxlZV9yZXNpc3QgPSAwO1xyXG52YXIgaW5pdGlhbF9tb3ZlID0gMDtcclxudmFyIGluaXRpYWxfZG9kZ2UgPSAwO1xyXG5cclxudmFyIGluaXRpYWxfS0RfcHJpY2UgPSA1MDtcclxudmFyIGluaXRpYWxfbWVsZWVfcmVzaXN0X3ByaWNlID0gNTA7XHJcbnZhciBpbml0aWFsX21vdmVfcHJpY2UgPSA1MDtcclxudmFyIGluaXRpYWxfZG9kZ2VfcHJpY2UgPSA1MDtcclxuXHJcbnZhciBzdGVwX0tEID0gMTtcclxudmFyIHN0ZXBfbWVsZWVfcmVzaXN0ID0gNTtcclxudmFyIHN0ZXBfbW92ZSA9IDU7XHJcbnZhciBzdGVwX2RvZGdlID0gMTtcclxuXHJcbnZhciBjdXJyZW50X0tEID0gaW5pdGlhbF9LRDtcclxudmFyIGN1cnJlbnRfbWVsZWVfcmVzaXN0ID0gaW5pdGlhbF9tZWxlZV9yZXNpc3Q7XHJcbnZhciBjdXJyZW50X21vdmUgPSBpbml0aWFsX21vdmU7XHJcbnZhciBjdXJyZW50X2RvZGdlID0gaW5pdGlhbF9kb2RnZTtcclxuXHJcbnZhciBjdXJyZW50X0tEX3ByaWNlID0gaW5pdGlhbF9LRF9wcmljZTtcclxudmFyIGN1cnJlbnRfbWVsZWVfcmVzaXN0X3ByaWNlID0gaW5pdGlhbF9tZWxlZV9yZXNpc3RfcHJpY2U7XHJcbnZhciBjdXJyZW50X21vdmVfcHJpY2UgPSBpbml0aWFsX21vdmVfcHJpY2U7XHJcbnZhciBjdXJyZW50X2RvZGdlX3ByaWNlID0gaW5pdGlhbF9kb2RnZV9wcmljZTtcclxuXHJcbnZhciB0b3RhbF9jb3N0ID0gMDtcclxudmFyIG1vdmVfY2hhbmdlID0gMDtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZV9tb3ZlX2NoYW5nZSh1cGRhdGUpIHtcclxuICBtb3ZlX2NoYW5nZSA9IG1vdmVfY2hhbmdlICsgdXBkYXRlO1xyXG4gIG1vdmVfY2hhbmdlX2Rpc3BsYXkuaHRtbChcItCY0LfQvNC10L3QtdC90LjQtSDQv9C10YDQtdC80LXRidC10L3QuNGPOiBcIiArIG1vdmVfY2hhbmdlLnRvU3RyaW5nKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVfdG90YWxfY29zdChwcmljZSkge1xyXG4gIHRvdGFsX2Nvc3QgPSB0b3RhbF9jb3N0ICsgcHJpY2U7XHJcbiAgdG90YWxfcHJpY2VfZW50cnkuaHRtbChcItCe0LHRidCw0Y8g0YHRgtC+0LjQvNC+0YHRgtGMOiBcIiArIHRvdGFsX2Nvc3QudG9TdHJpbmcoKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZV9wcmljZV9kaXNwbGF5KCkge1xyXG4gIEtEX3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfS0RfcHJpY2UudG9TdHJpbmcoKSlcclxuICBtZWxlZV9yZXNpc3RfcHJpY2UuaHRtbChcItCm0LXQvdCwINCw0L/Qs9GA0LXQudC00LA6IFwiICsgY3VycmVudF9tZWxlZV9yZXNpc3RfcHJpY2UudG9TdHJpbmcoKSlcclxuICBtb3ZlX3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfbW92ZV9wcmljZS50b1N0cmluZygpKVxyXG4gIGRvZGdlX3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfZG9kZ2VfcHJpY2UudG9TdHJpbmcoKSlcclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlfbW9kdWxlX3NjYWxlKCkge1xyXG4gIGN1cnJlbnRfS0RfcHJpY2UgPSBwYXJzZUludChjdXJyZW50X0tEX3ByaWNlKm1vZHVsZV9zY2FsZSk7XHJcbiAgY3VycmVudF9tZWxlZV9yZXNpc3RfcHJpY2UgPSBwYXJzZUludChjdXJyZW50X21lbGVlX3Jlc2lzdF9wcmljZSptb2R1bGVfc2NhbGUpO1xyXG4gIGN1cnJlbnRfbW92ZV9wcmljZSA9IHBhcnNlSW50KGN1cnJlbnRfbW92ZV9wcmljZSptb2R1bGVfc2NhbGUpO1xyXG4gIGN1cnJlbnRfZG9kZ2VfcHJpY2UgPSBwYXJzZUludChjdXJyZW50X2RvZGdlX3ByaWNlKm1vZHVsZV9zY2FsZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY3JlYXNlX0tEKCkge1xyXG4gIGN1cnJlbnRfS0QgPSBjdXJyZW50X0tEICsgc3RlcF9LRDtcclxuICBLRF9sdmwuaHRtbChcItCa0JQ6IFwiICsgY3VycmVudF9LRC50b1N0cmluZygpKVxyXG5cclxuICB1cGRhdGVfdG90YWxfY29zdChjdXJyZW50X0tEX3ByaWNlKVxyXG5cclxuICBjdXJyZW50X0tEX3ByaWNlID0gY3VycmVudF9LRF9wcmljZSpzcGVjaWFsaXphdGlvbl9zY2FsZTtcclxuICBhcHBseV9tb2R1bGVfc2NhbGUoKTtcclxuXHJcbiAgdXBkYXRlX3ByaWNlX2Rpc3BsYXkoKTtcclxuXHJcbiAgaWYgKGN1cnJlbnRfS0QgJSAzID09IDEpIHsvLyB0aGlyZCBLRCBpbmNyZWFzZVxyXG4gICAgdXBkYXRlX21vdmVfY2hhbmdlKC0xKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluY3JlYXNlX21lbGVlX3Jlc2lzdCgpIHtcclxuICBjdXJyZW50X21lbGVlX3Jlc2lzdCA9IGN1cnJlbnRfbWVsZWVfcmVzaXN0ICsgc3RlcF9tZWxlZV9yZXNpc3Q7XHJcbiAgbWVsZWVfcmVzaXN0X2x2bC5odG1sKFwi0JzQuNC70LvQuCDRgNC10LfQuNGB0YI6IFwiICsgY3VycmVudF9tZWxlZV9yZXNpc3QudG9TdHJpbmcoKSArIFwiJVwiKVxyXG5cclxuICB1cGRhdGVfdG90YWxfY29zdChjdXJyZW50X21lbGVlX3Jlc2lzdF9wcmljZSlcclxuXHJcbiAgY3VycmVudF9tZWxlZV9yZXNpc3RfcHJpY2UgPSBjdXJyZW50X21lbGVlX3Jlc2lzdF9wcmljZSpzcGVjaWFsaXphdGlvbl9zY2FsZTtcclxuICBhcHBseV9tb2R1bGVfc2NhbGUoKTtcclxuXHJcbiAgdXBkYXRlX3ByaWNlX2Rpc3BsYXkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VfbW92ZSgpIHtcclxuICBjdXJyZW50X21vdmUgPSBjdXJyZW50X21vdmUgKyBzdGVwX21vdmU7XHJcbiAgbW92ZV9sdmwuaHRtbChcItCh0YLRgNC10LvQutC+0LLRi9C5INGA0LXQt9C40YHRgjogXCIgKyBjdXJyZW50X21vdmUudG9TdHJpbmcoKSArIFwiJVwiKVxyXG5cclxuICB1cGRhdGVfdG90YWxfY29zdChjdXJyZW50X21vdmVfcHJpY2UpXHJcblxyXG4gIGN1cnJlbnRfbW92ZV9wcmljZSA9IGN1cnJlbnRfbW92ZV9wcmljZSpzcGVjaWFsaXphdGlvbl9zY2FsZTtcclxuICBhcHBseV9tb2R1bGVfc2NhbGUoKTtcclxuXHJcbiAgdXBkYXRlX3ByaWNlX2Rpc3BsYXkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jcmVhc2VfZG9kZ2UoKSB7XHJcbiAgY3VycmVudF9kb2RnZSA9IGN1cnJlbnRfZG9kZ2UgKyBzdGVwX2RvZGdlO1xyXG4gIGRvZGdlX2x2bC5odG1sKFwi0KPQstC+0YDQvtGCOiBcIiArIGN1cnJlbnRfZG9kZ2UudG9TdHJpbmcoKSlcclxuXHJcbiAgdXBkYXRlX3RvdGFsX2Nvc3QoY3VycmVudF9kb2RnZV9wcmljZSlcclxuXHJcbiAgY3VycmVudF9kb2RnZV9wcmljZSA9IGN1cnJlbnRfZG9kZ2VfcHJpY2Uqc3BlY2lhbGl6YXRpb25fc2NhbGU7XHJcbiAgYXBwbHlfbW9kdWxlX3NjYWxlKCk7XHJcblxyXG4gIHVwZGF0ZV9wcmljZV9kaXNwbGF5KCk7XHJcblxyXG4gIGlmIChjdXJyZW50X2RvZGdlICUgMyA9PSAwKSB7Ly8gdGhpcmQgbW92ZSBpbmNyZWFzZVxyXG4gICAgdXBkYXRlX21vdmVfY2hhbmdlKDEpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbnZhciBLRF9idXR0b24gPSAkKEtEX0JVVFRPTl9TRUxFQ1RPUik7XHJcbktEX2J1dHRvbi5vbignY2xpY2snLCBpbmNyZWFzZV9LRCk7XHJcblxyXG52YXIgbWVsZWVfcmVzaXN0X2J1dHRvbiA9ICQoTUVMRUVfUkVTSVNUX0JVVFRPTl9TRUxFQ1RPUik7XHJcbm1lbGVlX3Jlc2lzdF9idXR0b24ub24oJ2NsaWNrJywgaW5jcmVhc2VfbWVsZWVfcmVzaXN0KTtcclxuXHJcbnZhciBtb3ZlX2J1dHRvbiA9ICQoTU9WRV9CVVRUT05fU0VMRUNUT1IpO1xyXG5tb3ZlX2J1dHRvbi5vbignY2xpY2snLCBpbmNyZWFzZV9tb3ZlKTtcclxuXHJcbnZhciBkb2RnZV9idXR0b24gPSAkKERPREdFX0JVVFRPTl9TRUxFQ1RPUik7XHJcbmRvZGdlX2J1dHRvbi5vbignY2xpY2snLCBpbmNyZWFzZV9kb2RnZSk7XHJcblxyXG52YXIgS0RfbHZsID0gJChLRF9MVkxfU0VMRUNUT1IpO1xyXG5LRF9sdmwuaHRtbChcItCa0JQ6IFwiICsgY3VycmVudF9LRC50b1N0cmluZygpKVxyXG52YXIgbWVsZWVfcmVzaXN0X2x2bCA9ICQoTUVMRUVfUkVTSVNUX0xWTF9TRUxFQ1RPUik7XHJcbm1lbGVlX3Jlc2lzdF9sdmwuaHRtbChcItCc0LjQu9C70Lgg0YDQtdC30LjRgdGCOiBcIiArIGN1cnJlbnRfbWVsZWVfcmVzaXN0LnRvU3RyaW5nKCkgKyBcIiVcIilcclxudmFyIG1vdmVfbHZsID0gJChNT1ZFX0xWTF9TRUxFQ1RPUik7XHJcbm1vdmVfbHZsLmh0bWwoXCLQodGC0YDQtdC70LrQvtCy0YvQuSDRgNC10LfQuNGB0YI6IFwiICsgY3VycmVudF9tb3ZlLnRvU3RyaW5nKCkgKyBcIiVcIilcclxudmFyIGRvZGdlX2x2bCA9ICQoRE9ER0VfTFZMX1NFTEVDVE9SKTtcclxuZG9kZ2VfbHZsLmh0bWwoXCLQo9Cy0L7RgNC+0YI6IFwiICsgY3VycmVudF9kb2RnZS50b1N0cmluZygpKVxyXG5cclxudmFyIEtEX3ByaWNlID0gJChLRF9QUklDRV9TRUxFQ1RPUik7XHJcbktEX3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfS0RfcHJpY2UudG9TdHJpbmcoKSlcclxudmFyIG1lbGVlX3Jlc2lzdF9wcmljZSA9ICQoTUVMRUVfUkVTSVNUX1BSSUNFX1NFTEVDVE9SKTtcclxubWVsZWVfcmVzaXN0X3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfbWVsZWVfcmVzaXN0X3ByaWNlLnRvU3RyaW5nKCkpXHJcbnZhciBtb3ZlX3ByaWNlID0gJChNT1ZFX1BSSUNFX1NFTEVDVE9SKTtcclxubW92ZV9wcmljZS5odG1sKFwi0KbQtdC90LAg0LDQv9Cz0YDQtdC50LTQsDogXCIgKyBjdXJyZW50X21vdmVfcHJpY2UudG9TdHJpbmcoKSlcclxudmFyIGRvZGdlX3ByaWNlID0gJChET0RHRV9QUklDRV9TRUxFQ1RPUik7XHJcbmRvZGdlX3ByaWNlLmh0bWwoXCLQptC10L3QsCDQsNC/0LPRgNC10LnQtNCwOiBcIiArIGN1cnJlbnRfZG9kZ2VfcHJpY2UudG9TdHJpbmcoKSlcclxuXHJcbnZhciB0b3RhbF9wcmljZV9lbnRyeSA9ICQoVE9UQUxfUFJJQ0VfU0VMRUNUT1IpO1xyXG50b3RhbF9wcmljZV9lbnRyeS5odG1sKFwi0J7QsdGJ0LDRjyDRgdGC0L7QuNC80L7RgdGC0Yw6IFwiICsgdG90YWxfY29zdC50b1N0cmluZygpKTtcclxuXHJcbnZhciBtb3ZlX2NoYW5nZV9kaXNwbGF5ID0gJChNT1ZFX0NIQU5HRV9TRUxFQ1RPUik7XHJcbm1vdmVfY2hhbmdlX2Rpc3BsYXkuaHRtbChcItCY0LfQvNC10L3QtdC90LjQtSDQv9C10YDQtdC80LXRidC10L3QuNGPOiBcIiArIG1vdmVfY2hhbmdlLnRvU3RyaW5nKCkpO1xyXG4iXX0=
